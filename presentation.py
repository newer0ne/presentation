import streamlit as st
import telegram
import asyncio
import time

st.set_page_config(
    page_title="Hello",
    page_icon="üìñ",
)

st.markdown("<h1 style='text-align: center;'>–ü—Ä–∏–≤–µ—Ç –∏ –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Datalyzer! üëã</h1>", unsafe_allow_html=True)

st.markdown(
    """
    Datalyzer ‚Äî —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–æ–≤ –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–π
    –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∏—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

    ### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
    –î–ª—è —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –Ω—É–∂–µ–Ω —Ö–æ—Ä–æ—à–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç,
    –∏ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç - –ø—Ä–∏–¥—ë—Ç—Å—è –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å ü•≤

    ### –°–ª–µ–≤–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Å–∞–π–¥–±–∞—Ä —Å –≤—ã–±–æ—Ä–æ–º –≤–∫–ª–∞–¥–æ–∫:
    - ¬´ADS analyzer¬ª - –æ–±—Ä–∞–±–∞—Ç–∫–∞ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–æ–≤ –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ–¥–∞–∂–∏-–ª–∏–¥—ã-–ø–æ–∫—É–ø–∫–∏.
    - ¬´–ê–í Tester¬ª - –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ A/B —Ç–µ—Å—Ç–∞ —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
        —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
    - ¬´Plotting graf¬ª - —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫.
    - ¬´DataFrame visualizer¬ª - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–æ–≤.
        –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–∑—è—Ç–æ –≤–∞–ª–æ–≤–æ–µ —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≥–æ–¥–∞–º.
    - ¬´Concentrate¬ª - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ü–î–ö –æ—Ç—Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö —Ä–∞—Å—Ç–≤–æ—Ä–æ–≤ —ç–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç–∞.

    ### –ß—Ç–æ –¥–∞–ª—å—à–µ?
    - ¬´ADS analyzer¬ª: 
        —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –º–æ–¥—É–ª—è –∑–∞–≥—Ä—É–∑–æ–∫, 
        –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Ä–µ–Ω–µ–π–º –∫–æ–ª–æ–Ω–æ–∫.
    - ¬´Plotting graf¬ª:
        –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è –∑–∞–≥—Ä—É–∑–æ–∫ –ø–æ —Å—Å—ã–ª–∫–µ / –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–æ–º,
        –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö,
        —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑.
    - ¬´DataFrame visualizer¬ª:
        –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
    """
)        

   
token = st.secrets["token"]
chat_id = st.secrets["chat_id"]

async def send_telegram_message(token, chat_id, text):
    bot = telegram.Bot(token=token)
    await bot.send_message(chat_id=chat_id, text=text)

if st.button('–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é!'):
    txt = st.text_area('–ù–∞–ø–∏—à–∏—Ç–µ –∑–¥–µ—Å—å')
    if st.button('–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–¥–µ—é'):
        if txt:
            asyncio.run(send_telegram_message(token, chat_id, txt))
            print(txt)
        else:
            st.error('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è')
    
st.markdown(
    """    
        ## –•–æ—Ç–∏—Ç–µ –∑–Ω–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –æ–± –∞–≤—Ç–æ—Ä–µ?
    - –ú–æ–∏ —Ä–∞–±–æ—Ç—ã:
        - [–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –†–û–°–ê–¢–û–ú–ê](https://classificator.streamlit.app/)        
    - –ó–¥–µ—Å—å –º–æ–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:
        - [telegram.org](https://t.me/newer0ne)
        - [linkedin.com](https://www.linkedin.com/in/zakharovsv/)
        - [vk.com](https://vk.com/id1237712)
        - [github.com](https://github.com/newer0ne)
    - –ö–æ–Ω—Ç–∞–∫—Ç—ã –Ω–∞ —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö:
        - [headhunter.ru](https://hh.ru/resume/7e8af31aff09d92df80039ed1f674457646c75)
        - [career.habr.com](https://career.habr.com/sergeyzaharov123)
    - –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –≤–æ–ø—Ä–æ—Å—ã –º–æ—è —ç–ª–µ–∫—Ç—Ä–Ω–Ω–∞—è –ø–æ—á—Ç–∞ work.sergeyzaharov@gmail.com
    """
)